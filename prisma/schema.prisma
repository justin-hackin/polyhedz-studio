generator photon {
provider = "photonjs"
}

datasource db {
provider = "sqlite"
url      = "file:dev.db"
}

model PyramidNetSpec {
  id              String   @default(cuid()) @id
  pyramidGeometry  PyramidGeometrySpec
  dieLinesSpec    DieLinesSpec

}

model PyramidGeometrySpec {
  id              String   @default(cuid()) @id
  name  String  @unique
  relativeFaceEdgeLengths       Float[]
  firstEdgeLengthToShapeHeight  Float
  faceCount                     Int
}

model DieLinesSpec {
  id              String   @default(cuid()) @id
  ascendantEdgeTabsSpec     AscendantEdgeTabsSpec
  baseEdgeTabSpec           BaseEdgeConnectionTabSpec
  interFaceScoreDashSpec    StrokeDashPathSpec
}

model StrokeDashPathSpec {
  id              String   @default(cuid()) @id
  relativeStrokeDasharray Float[]
  strokeDashLength Float
  strokeDashOffsetRatio Float
}


model BaseEdgeConnectionTabSpec {
  id              String   @default(cuid()) @id
  tabDepthToAscendantEdgeLength   Float
  roundingDistanceRatio    Float
  holeDepthToTabDepth     Float
  holeTaper     Float
  holeBreadthToHalfWidth     Float
  finDepthToTabDepth     Float
  finTipDepthToFinDepth     Float
  scoreDashSpec    StrokeDashPathSpec
}

model AscendantEdgeTabsSpec {
  id              String   @default(cuid()) @id
  tabDepthToTraversalLength Float
  tabRoundingDistanceRatio  Float
  flapRoundingDistanceRatio Float
  tabsCount                 Int
  midpointDepthToTabDepth   Float
  tabStartGapToTabDepth     Float
  holeReachToTabDepth       Float
  holeWidthRatio            Float
  holeFlapTaperAngle        Float
  tabWideningAngle          Float
  scoreDashSpec             StrokeDashPathSpec
}
